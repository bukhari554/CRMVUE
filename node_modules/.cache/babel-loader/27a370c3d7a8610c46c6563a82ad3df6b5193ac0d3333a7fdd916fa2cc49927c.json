{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport store from '@/store';\nimport AdminDashboard from '@/views/Admin/AdminDashboard.vue';\nimport AdminUsers from '@/views/Admin/User.vue';\nimport AdminSettings from '@/views/Admin/Setting.vue';\nimport AdminSignin from '@/views/Admin/AdminSignin.vue';\nimport UserDashboard from '@/views/User/UserDashboard.vue';\nimport UserProfile from '@/views/User/Profile.vue';\nimport UserOrders from '@/views/User/Order.vue';\nimport Signin from '@/views/User/Signin.vue';\nimport Signup from '@/views/User/Signup.vue';\nconst routes = [\n// USER LOGIN ROUTES\n{\n  path: '/signin',\n  name: 'Signin',\n  component: Signin,\n  meta: {\n    requiresGuest: true,\n    userOnly: true\n  }\n}, {\n  path: '/signup',\n  name: 'Signup',\n  component: Signup,\n  meta: {\n    requiresGuest: true,\n    userOnly: true\n  }\n},\n// ADMIN LOGIN ROUTE\n{\n  path: '/admin-signin',\n  name: 'AdminSignin',\n  component: AdminSignin,\n  meta: {\n    requiresGuest: true,\n    adminOnly: true\n  }\n},\n// ADMIN ROUTES \n{\n  path: '/admin',\n  component: AdminDashboard,\n  meta: {\n    requiresAuth: true,\n    role: 'admin'\n  },\n  children: [{\n    path: '',\n    name: 'AdminDashboard',\n    component: AdminDashboard,\n    meta: {\n      requiresAuth: true,\n      role: 'admin'\n    }\n  }, {\n    path: 'users',\n    name: 'AdminUsers',\n    component: AdminUsers,\n    meta: {\n      requiresAuth: true,\n      role: 'admin'\n    }\n  }, {\n    path: 'settings',\n    name: 'AdminSettings',\n    component: AdminSettings,\n    meta: {\n      requiresAuth: true,\n      role: 'admin'\n    }\n  }]\n},\n// USER ROUTES\n{\n  path: '/user',\n  component: UserDashboard,\n  meta: {\n    requiresAuth: true\n  },\n  children: [{\n    path: '',\n    name: 'UserDashboard',\n    component: UserDashboard,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: 'profile',\n    name: 'UserProfile',\n    component: UserProfile,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: 'orders',\n    name: 'UserOrders',\n    component: UserOrders,\n    meta: {\n      requiresAuth: true\n    }\n  }]\n},\n// DEFAULT ROUTE\n{\n  path: '/',\n  redirect: '/signin'\n},\n// BLANK PAGE FOR 404 \n{\n  path: '/blank',\n  name: 'BlankPage',\n  component: {\n    template: '<div></div>'\n  }\n},\n// 404 - Redirect to Blank Page\n{\n  path: '/:pathMatch(.*)*',\n  name: 'NotFound',\n  redirect: '/blank'\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\n// NAVIGATION GUARDS\nrouter.beforeEach((to, from, next) => {\n  const isLoggedIn = store.getters.isLoggedIn;\n  const userRole = store.getters.userRole;\n\n  // 1. Admin Routes Protection\n  if (to.path.startsWith('/admin') && to.path !== '/admin-signin') {\n    if (!isLoggedIn) {\n      next('/blank');\n      return;\n    }\n    if (userRole !== 'admin') {\n      next('/blank');\n      return;\n    }\n    next();\n    return;\n  }\n\n  // 2. User Routes Protection \n  if (to.path.startsWith('/user')) {\n    if (!isLoggedIn) {\n      next('/signin');\n      return;\n    }\n    next();\n    return;\n  }\n\n  // 3. Admin Signin Page \n  if (to.path === '/admin-signin') {\n    if (isLoggedIn) {\n      if (userRole === 'admin') {\n        next('/admin');\n      } else {\n        next('/blank');\n      }\n      return;\n    }\n    next();\n    return;\n  }\n\n  // 4. User Signin/Signup Pages\n  if (to.path === '/signin' || to.path === '/signup') {\n    if (isLoggedIn) {\n      if (userRole === 'admin') {\n        next('/admin');\n      } else {\n        next('/user');\n      }\n      return;\n    }\n    next();\n    return;\n  }\n\n  // 5. Default Route\n  if (to.path === '/') {\n    if (isLoggedIn) {\n      if (userRole === 'admin') {\n        next('/admin');\n        return;\n      }\n      next('/user');\n      return;\n    }\n    next('/signin');\n    return;\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","store","AdminDashboard","AdminUsers","AdminSettings","AdminSignin","UserDashboard","UserProfile","UserOrders","Signin","Signup","routes","path","name","component","meta","requiresGuest","userOnly","adminOnly","requiresAuth","role","children","redirect","template","router","history","beforeEach","to","from","next","isLoggedIn","getters","userRole","startsWith"],"sources":["/home/aurora/Videos/Forex_CRM_Vue/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport store from '@/store'\nimport AdminDashboard from '@/views/Admin/AdminDashboard.vue'\nimport AdminUsers from '@/views/Admin/User.vue'\nimport AdminSettings from '@/views/Admin/Setting.vue'\nimport AdminSignin from '@/views/Admin/AdminSignin.vue'\nimport UserDashboard from '@/views/User/UserDashboard.vue'\nimport UserProfile from '@/views/User/Profile.vue'\nimport UserOrders from '@/views/User/Order.vue'\nimport Signin from '@/views/User/Signin.vue'\nimport Signup from '@/views/User/Signup.vue'\n\nconst routes = [\n\n  // USER LOGIN ROUTES\n  {\n    path: '/signin',\n    name: 'Signin',\n    component: Signin,\n    meta: { requiresGuest: true, userOnly: true }\n  },\n  {\n    path: '/signup',\n    name: 'Signup',\n    component: Signup,\n    meta: { requiresGuest: true, userOnly: true }\n  },\n\n  // ADMIN LOGIN ROUTE\n  {\n    path: '/admin-signin',\n    name: 'AdminSignin',\n    component: AdminSignin,\n    meta: { requiresGuest: true, adminOnly: true }\n  },\n\n  // ADMIN ROUTES \n  {\n    path: '/admin',\n    component: AdminDashboard,\n    meta: { requiresAuth: true, role: 'admin' },\n    children: [\n      {\n        path: '',\n        name: 'AdminDashboard',\n        component: AdminDashboard,\n        meta: { requiresAuth: true, role: 'admin' }\n      },\n      {\n        path: 'users',\n        name: 'AdminUsers',\n        component: AdminUsers,\n        meta: { requiresAuth: true, role: 'admin' }\n      },\n      {\n        path: 'settings',\n        name: 'AdminSettings',\n        component: AdminSettings,\n        meta: { requiresAuth: true, role: 'admin' }\n      }\n    ]\n  },\n\n  // USER ROUTES\n  {\n    path: '/user',\n    component: UserDashboard,\n    meta: { requiresAuth: true },\n    children: [\n      {\n        path: '',\n        name: 'UserDashboard',\n        component: UserDashboard,\n        meta: { requiresAuth: true }\n      },\n      {\n        path: 'profile',\n        name: 'UserProfile',\n        component: UserProfile,\n        meta: { requiresAuth: true }\n      },\n      {\n        path: 'orders',\n        name: 'UserOrders',\n        component: UserOrders,\n        meta: { requiresAuth: true }\n      }\n    ]\n  },\n\n  // DEFAULT ROUTE\n  {\n    path: '/',\n    redirect: '/signin'\n  },\n\n  // BLANK PAGE FOR 404 \n  {\n    path: '/blank',\n    name: 'BlankPage',\n    component: {\n      template: '<div></div>'\n    }\n  },\n\n  // 404 - Redirect to Blank Page\n  {\n    path: '/:pathMatch(.*)*',\n    name: 'NotFound',\n    redirect: '/blank'\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n})\n\n// NAVIGATION GUARDS\nrouter.beforeEach((to, from, next) => {\n  const isLoggedIn = store.getters.isLoggedIn\n  const userRole = store.getters.userRole\n\n  // 1. Admin Routes Protection\n  if (to.path.startsWith('/admin') && to.path !== '/admin-signin') {\n    if (!isLoggedIn) {\n      next('/blank')  \n      return\n    }\n\n    if (userRole !== 'admin') {\n      next('/blank') \n      return\n    }\n\n    next()\n    return\n  }\n\n  // 2. User Routes Protection \n  if (to.path.startsWith('/user')) {\n    if (!isLoggedIn) {\n      next('/signin')\n      return\n    }\n\n    next()\n    return\n  }\n\n  // 3. Admin Signin Page \n  if (to.path === '/admin-signin') {\n    if (isLoggedIn) {\n      if (userRole === 'admin') {\n        next('/admin')\n      } else {\n        next('/blank')  \n      }\n      return\n    }\n    next()\n    return\n  }\n\n  // 4. User Signin/Signup Pages\n  if (to.path === '/signin' || to.path === '/signup') {\n    if (isLoggedIn) {\n      if (userRole === 'admin') {\n        next('/admin')\n      } else {\n        next('/user')\n      }\n      return\n    }\n    next()\n    return\n  }\n\n  // 5. Default Route\n  if (to.path === '/') {\n    if (isLoggedIn) {\n      if (userRole === 'admin') {\n        next('/admin')\n        return\n      }\n      next('/user')\n      return\n    }\n    next('/signin')\n    return\n  }\n\n  next()\n})\n\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}