{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport store from '@/store';\nimport AdminDashboard from '@/views/Admin/AdminDashboard.vue';\nimport AdminUsers from '@/views/Admin/User.vue';\nimport AdminSettings from '@/views/Admin/Setting.vue';\nimport AdminSignin from '@/views/Admin/AdminSignin.vue';\nimport UserDashboard from '@/views/User/UserDashboard.vue';\nimport UserProfile from '@/views/User/Profile.vue';\nimport UserOrders from '@/views/User/Order.vue';\nimport Signin from '@/views/User/Signin.vue';\nimport Signup from '@/views/User/Signup.vue';\nimport NotFound from '@/views/NotFound.vue';\nconst routes = [\n// USER LOGIN ROUTES\n{\n  path: '/signin',\n  name: 'Signin',\n  component: Signin,\n  meta: {\n    requiresGuest: true,\n    userOnly: true\n  }\n}, {\n  path: '/signup',\n  name: 'Signup',\n  component: Signup,\n  meta: {\n    requiresGuest: true,\n    userOnly: true\n  }\n},\n// ADMIN LOGIN ROUTE \n{\n  path: '/admin-signin',\n  name: 'AdminSignin',\n  component: AdminSignin,\n  meta: {\n    requiresGuest: true,\n    adminOnly: true\n  }\n},\n// ADMIN ROUTES \n{\n  path: '/admin',\n  component: AdminDashboard,\n  meta: {\n    requiresAuth: true,\n    role: 'admin'\n  },\n  children: [{\n    path: '',\n    name: 'AdminDashboard',\n    component: AdminDashboard,\n    meta: {\n      requiresAuth: true,\n      role: 'admin'\n    }\n  }, {\n    path: 'users',\n    name: 'AdminUsers',\n    component: AdminUsers,\n    meta: {\n      requiresAuth: true,\n      role: 'admin'\n    }\n  }, {\n    path: 'settings',\n    name: 'AdminSettings',\n    component: AdminSettings,\n    meta: {\n      requiresAuth: true,\n      role: 'admin'\n    }\n  }]\n},\n// USER ROUTES (Protected - User role required)\n{\n  path: '/user',\n  component: UserDashboard,\n  meta: {\n    requiresAuth: true,\n    role: 'user'\n  },\n  children: [{\n    path: '',\n    name: 'UserDashboard',\n    component: UserDashboard,\n    meta: {\n      requiresAuth: true,\n      role: 'user'\n    }\n  }, {\n    path: 'profile',\n    name: 'UserProfile',\n    component: UserProfile,\n    meta: {\n      requiresAuth: true,\n      role: 'user'\n    }\n  }, {\n    path: 'orders',\n    name: 'UserOrders',\n    component: UserOrders,\n    meta: {\n      requiresAuth: true,\n      role: 'user'\n    }\n  }]\n},\n// DEFAULT ROUTE\n{\n  path: '/',\n  redirect: () => {\n    const user = store.getters.currentUser;\n    if (user?.role === 'admin') {\n      return '/admin';\n    } else if (user?.role === 'user') {\n      return '/user';\n    }\n    return '/signin';\n  }\n},\n// 404 PAGE (sabse aakhir mein)\n{\n  path: '/:pathMatch(.*)*',\n  name: 'NotFound',\n  component: NotFound\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\n// NAVIGATION GUARDS\nrouter.beforeEach((to, from, next) => {\n  const isLoggedIn = store.getters.isLoggedIn;\n  const userRole = store.getters.userRole;\n\n  // 1. Admin Routes Protection\n  if (to.path.startsWith('/admin') && to.path !== '/admin-signin') {\n    if (!isLoggedIn) {\n      next('/admin-signin');\n      return;\n    }\n    if (userRole !== 'admin') {\n      next('/404');\n      return;\n    }\n    next();\n    return;\n  }\n\n  // 2. User Routes Protection\n\n  if (to.path.startsWith('/user')) {\n    if (!isLoggedIn) {\n      next('/signin');\n      return;\n    }\n    if (userRole !== 'user') {\n      next('/404');\n      return;\n    }\n    next();\n    return;\n  }\n\n  // 3. Admin Signin Page\n  if (to.path === '/admin-signin') {\n    if (isLoggedIn && userRole === 'admin') {\n      next('/admin');\n      return;\n    }\n    next();\n    return;\n  }\n\n  // 4. User Signin/Signup Pages\n  if (to.path === '/signin' || to.path === '/signup') {\n    if (isLoggedIn) {\n      if (userRole === 'admin') {\n        next('/admin');\n      } else if (userRole === 'user') {\n        next('/user');\n      }\n      return;\n    }\n    next();\n    return;\n  }\n\n  // 5. Default Route\n  if (to.path === '/') {\n    if (!isLoggedIn) {\n      next('/signin');\n      return;\n    }\n    if (userRole === 'admin') {\n      next('/admin');\n      return;\n    }\n    if (userRole === 'user') {\n      next('/user');\n      return;\n    }\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","store","AdminDashboard","AdminUsers","AdminSettings","AdminSignin","UserDashboard","UserProfile","UserOrders","Signin","Signup","NotFound","routes","path","name","component","meta","requiresGuest","userOnly","adminOnly","requiresAuth","role","children","redirect","user","getters","currentUser","router","history","beforeEach","to","from","next","isLoggedIn","userRole","startsWith"],"sources":["/home/aurora/Videos/Forex_CRM_Vue/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport store from '@/store'\nimport AdminDashboard from '@/views/Admin/AdminDashboard.vue'\nimport AdminUsers from '@/views/Admin/User.vue'\nimport AdminSettings from '@/views/Admin/Setting.vue'\nimport AdminSignin from '@/views/Admin/AdminSignin.vue'\nimport UserDashboard from '@/views/User/UserDashboard.vue'\nimport UserProfile from '@/views/User/Profile.vue'\nimport UserOrders from '@/views/User/Order.vue'\nimport Signin from '@/views/User/Signin.vue'\nimport Signup from '@/views/User/Signup.vue'\nimport NotFound from '@/views/NotFound.vue'\n\nconst routes = [\n\n  // USER LOGIN ROUTES\n  {\n    path: '/signin',\n    name: 'Signin',\n    component: Signin,\n    meta: { requiresGuest: true, userOnly: true }\n  },\n  {\n    path: '/signup',\n    name: 'Signup',\n    component: Signup,\n    meta: { requiresGuest: true, userOnly: true }\n  },\n\n  // ADMIN LOGIN ROUTE \n  {\n    path: '/admin-signin',\n    name: 'AdminSignin',\n    component: AdminSignin,\n    meta: { requiresGuest: true, adminOnly: true }\n  },\n\n  // ADMIN ROUTES \n  {\n    path: '/admin',\n    component: AdminDashboard,\n    meta: { requiresAuth: true, role: 'admin' },\n    children: [\n      {\n        path: '',\n        name: 'AdminDashboard',\n        component: AdminDashboard,\n        meta: { requiresAuth: true, role: 'admin' }\n      },\n      {\n        path: 'users',\n        name: 'AdminUsers',\n        component: AdminUsers,\n        meta: { requiresAuth: true, role: 'admin' }\n      },\n      {\n        path: 'settings',\n        name: 'AdminSettings',\n        component: AdminSettings,\n        meta: { requiresAuth: true, role: 'admin' }\n      }\n    ]\n  },\n\n  // USER ROUTES (Protected - User role required)\n  {\n    path: '/user',\n    component: UserDashboard,\n    meta: { requiresAuth: true, role: 'user' },\n    children: [\n      {\n        path: '',\n        name: 'UserDashboard',\n        component: UserDashboard,\n        meta: { requiresAuth: true, role: 'user' }\n      },\n      {\n        path: 'profile',\n        name: 'UserProfile',\n        component: UserProfile,\n        meta: { requiresAuth: true, role: 'user' }\n      },\n      {\n        path: 'orders',\n        name: 'UserOrders',\n        component: UserOrders,\n        meta: { requiresAuth: true, role: 'user' }\n      }\n    ]\n  },\n\n  // DEFAULT ROUTE\n  {\n    path: '/',\n    redirect: () => {\n      const user = store.getters.currentUser\n      if (user?.role === 'admin') {\n        return '/admin'\n      } else if (user?.role === 'user') {\n        return '/user'\n      }\n      return '/signin'\n    }\n  },\n\n  // 404 PAGE (sabse aakhir mein)\n  {\n    path: '/:pathMatch(.*)*',\n    name: 'NotFound',\n    component: NotFound\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n})\n\n// NAVIGATION GUARDS\nrouter.beforeEach((to, from, next) => {\n  const isLoggedIn = store.getters.isLoggedIn\n  const userRole = store.getters.userRole\n\n  // 1. Admin Routes Protection\n  if (to.path.startsWith('/admin') && to.path !== '/admin-signin') {\n    if (!isLoggedIn) {\n      next('/admin-signin')\n      return\n    }\n\n    if (userRole !== 'admin') {\n      next('/404')\n      return\n    }\n\n    next()\n    return\n  }\n\n  // 2. User Routes Protection\n\n  if (to.path.startsWith('/user')) {\n    if (!isLoggedIn) {\n      next('/signin')\n      return\n    }\n\n    if (userRole !== 'user') {\n      next('/404')\n      return\n    }\n\n    next()\n    return\n  }\n\n  // 3. Admin Signin Page\n  if (to.path === '/admin-signin') {\n    if (isLoggedIn && userRole === 'admin') {\n      next('/admin')\n      return\n    }\n    next()\n    return\n  }\n\n  // 4. User Signin/Signup Pages\n  if (to.path === '/signin' || to.path === '/signup') {\n    if (isLoggedIn) {\n      if (userRole === 'admin') {\n        next('/admin')\n      } else if (userRole === 'user') {\n        next('/user')\n      }\n      return\n    }\n    next()\n    return\n  }\n\n  // 5. Default Route\n  if (to.path === '/') {\n    if (!isLoggedIn) {\n      next('/signin')\n      return\n    }\n    if (userRole === 'admin') {\n      next('/admin')\n      return\n    }\n    if (userRole === 'user') {\n      next('/user')\n      return\n    }\n  }\n\n  next()\n})\n\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}