{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport Breadcrumbs from \"../Breadcrumbs.vue\";\nimport { apiPost } from \"@/utils/api.js\";\nexport default {\n  __name: 'Navbar',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const showMenu = ref(false);\n    const showUserMenu = ref(false);\n    const store = useStore();\n    const router = useRouter();\n    const route = useRoute();\n    const currentRouteName = computed(() => {\n      return route.name;\n    });\n    const currentDirectory = computed(() => {\n      let dir = route.path.split(\"/\")[1];\n      return dir.charAt(0).toUpperCase() + dir.slice(1);\n    });\n    const currentUser = computed(() => store.getters.currentUser);\n    const userName = computed(() => {\n      if (currentUser.value) {\n        return currentUser.value.name || `${currentUser.value.first_name || ''} ${currentUser.value.last_name || ''}`.trim() || currentUser.value.email;\n      }\n      return \"User\";\n    });\n    const minimizeSidebar = () => store.commit(\"sidebarMinimize\");\n    const toggleConfigurator = () => store.commit(\"toggleConfigurator\");\n    const closeMenu = () => {\n      setTimeout(() => {\n        showMenu.value = false;\n      }, 100);\n    };\n    const closeUserMenu = () => {\n      setTimeout(() => {\n        showUserMenu.value = false;\n      }, 100);\n    };\n    const handleLogout = async () => {\n      try {\n        await apiPost(\"/client/logout\", {});\n      } catch (error) {\n        console.error(\"Logout error:\", error);\n      } finally {\n        // Logout locally regardless of API response\n        store.dispatch(\"logout\");\n        router.push(\"/signin\");\n      }\n    };\n    const __returned__ = {\n      showMenu,\n      showUserMenu,\n      store,\n      router,\n      route,\n      currentRouteName,\n      currentDirectory,\n      currentUser,\n      userName,\n      minimizeSidebar,\n      toggleConfigurator,\n      closeMenu,\n      closeUserMenu,\n      handleLogout,\n      computed,\n      ref,\n      get useStore() {\n        return useStore;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      Breadcrumbs,\n      get apiPost() {\n        return apiPost;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","ref","useStore","useRoute","useRouter","Breadcrumbs","apiPost","showMenu","showUserMenu","store","router","route","currentRouteName","name","currentDirectory","dir","path","split","charAt","toUpperCase","slice","currentUser","getters","userName","value","first_name","last_name","trim","email","minimizeSidebar","commit","toggleConfigurator","closeMenu","setTimeout","closeUserMenu","handleLogout","error","console","dispatch","push"],"sources":["/home/aurora/Videos/Forex_CRM_Vue/src/examples/Navbars/Navbar.vue"],"sourcesContent":["<script setup>\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport Breadcrumbs from \"../Breadcrumbs.vue\";\nimport { apiPost } from \"@/utils/api.js\";\n\nconst showMenu = ref(false);\nconst showUserMenu = ref(false);\nconst store = useStore();\nconst router = useRouter();\n\nconst route = useRoute();\n\nconst currentRouteName = computed(() => {\n  return route.name;\n});\nconst currentDirectory = computed(() => {\n  let dir = route.path.split(\"/\")[1];\n  return dir.charAt(0).toUpperCase() + dir.slice(1);\n});\n\nconst currentUser = computed(() => store.getters.currentUser);\nconst userName = computed(() => {\n  if (currentUser.value) {\n    return currentUser.value.name || \n           `${currentUser.value.first_name || ''} ${currentUser.value.last_name || ''}`.trim() ||\n           currentUser.value.email;\n  }\n  return \"User\";\n});\n\nconst minimizeSidebar = () => store.commit(\"sidebarMinimize\");\nconst toggleConfigurator = () => store.commit(\"toggleConfigurator\");\n\nconst closeMenu = () => {\n  setTimeout(() => {\n    showMenu.value = false;\n  }, 100);\n};\n\nconst closeUserMenu = () => {\n  setTimeout(() => {\n    showUserMenu.value = false;\n  }, 100);\n};\n\nconst handleLogout = async () => {\n  try {\n    await apiPost(\"/client/logout\", {});\n  } catch (error) {\n    console.error(\"Logout error:\", error);\n  } finally {\n    // Logout locally regardless of API response\n    store.dispatch(\"logout\");\n    router.push(\"/signin\");\n  }\n};\n</script>\n<template>\n  <nav\n    class=\"navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl\"\n    v-bind=\"$attrs\"\n    id=\"navbarBlur\"\n    data-scroll=\"true\"\n  >\n    <div class=\"px-3 py-1 container-fluid\">\n      <breadcrumbs\n        :current-page=\"currentRouteName\"\n        :current-directory=\"currentDirectory\"\n      />\n\n      <div\n        class=\"mt-2 collapse navbar-collapse mt-sm-0 me-md-0 me-sm-4\"\n        id=\"navbar\"\n      >\n        <ul class=\"navbar-nav justify-content-end ms-md-auto\">\n          <li\n            class=\"nav-item dropdown d-flex align-items-center pe-2\"\n          >\n            <a\n              href=\"#\"\n              class=\"p-0 nav-link text-white d-flex align-items-center\"\n              :class=\"[showUserMenu ? 'show' : '']\"\n              id=\"userMenuButton\"\n              data-bs-toggle=\"dropdown\"\n              aria-expanded=\"false\"\n              @click=\"showUserMenu = !showUserMenu\"\n              @blur=\"closeUserMenu\"\n            >\n              <i class=\"fa fa-user me-2\"></i>\n              <span class=\"d-sm-inline d-none\">{{ userName }}</span>\n              <i class=\"fas fa-chevron-down ms-2\" style=\"font-size: 0.75rem;\"></i>\n            </a>\n            <ul\n              class=\"px-2 py-3 dropdown-menu dropdown-menu-end me-sm-n4\"\n              :class=\"showUserMenu ? 'show' : ''\"\n              aria-labelledby=\"userMenuButton\"\n            >\n              <li>\n                <router-link\n                  to=\"/profile\"\n                  class=\"dropdown-item border-radius-md\"\n                  @click=\"showUserMenu = false\"\n                >\n                  <div class=\"d-flex align-items-center\">\n                    <i class=\"fa fa-user me-2\"></i>\n                    <span>Profile</span>\n                  </div>\n                </router-link>\n              </li>\n              <li>\n                <hr class=\"dropdown-divider\" />\n              </li>\n              <li>\n                <a\n                  href=\"#\"\n                  class=\"dropdown-item border-radius-md text-danger\"\n                  @click.prevent=\"handleLogout\"\n                >\n                  <div class=\"d-flex align-items-center\">\n                    <i class=\"fa fa-sign-out me-2\"></i>\n                    <span>Logout</span>\n                  </div>\n                </a>\n              </li>\n            </ul>\n          </li>\n          <li class=\"nav-item d-xl-none ps-3 d-flex align-items-center\">\n            <a\n              href=\"#\"\n              @click=\"minimizeSidebar\"\n              class=\"p-0 nav-link text-white\"\n              id=\"iconNavbarSidenav\"\n            >\n              <div class=\"sidenav-toggler-inner\">\n                <i class=\"sidenav-toggler-line bg-white\"></i>\n                <i class=\"sidenav-toggler-line bg-white\"></i>\n                <i class=\"sidenav-toggler-line bg-white\"></i>\n              </div>\n            </a>\n          </li>\n          <li class=\"px-3 nav-item d-flex align-items-center\">\n            <a class=\"p-0 nav-link text-white\" @click=\"toggleConfigurator\">\n              <i class=\"cursor-pointer fa fa-cog fixed-plugin-button-nav\"></i>\n            </a>\n          </li>\n          <li\n            class=\"nav-item dropdown d-flex align-items-center pe-2\"\n          >\n            <a\n              href=\"#\"\n              class=\"p-0 nav-link text-white\"\n              :class=\"[showMenu ? 'show' : '']\"\n              id=\"dropdownMenuButton\"\n              data-bs-toggle=\"dropdown\"\n              aria-expanded=\"false\"\n              @click=\"showMenu = !showMenu\"\n              @blur=\"closeMenu\"\n            >\n              <i class=\"cursor-pointer fa fa-bell\"></i>\n            </a>\n            <ul\n              class=\"px-2 py-3 dropdown-menu dropdown-menu-end me-sm-n4\"\n              :class=\"showMenu ? 'show' : ''\"\n              aria-labelledby=\"dropdownMenuButton\"\n            >\n              <li class=\"mb-2\">\n                <a class=\"dropdown-item border-radius-md\" href=\"javascript:;\">\n                  <div class=\"py-1 d-flex\">\n                    <div class=\"my-auto\">\n                      <img\n                        src=\"../../assets/img/team-2.jpg\"\n                        class=\"avatar avatar-sm me-3\"\n                        alt=\"user image\"\n                      />\n                    </div>\n                    <div class=\"d-flex flex-column justify-content-center\">\n                      <h6 class=\"mb-1 text-sm font-weight-normal\">\n                        <span class=\"font-weight-bold\">New message</span> from\n                        Laur\n                      </h6>\n                      <p class=\"mb-0 text-xs text-secondary\">\n                        <i class=\"fa fa-clock me-1\"></i>\n                        13 minutes ago\n                      </p>\n                    </div>\n                  </div>\n                </a>\n              </li>\n              <li class=\"mb-2\">\n                <a class=\"dropdown-item border-radius-md\" href=\"javascript:;\">\n                  <div class=\"py-1 d-flex\">\n                    <div class=\"my-auto\">\n                      <img\n                        src=\"../../assets/img/small-logos/logo-spotify.svg\"\n                        class=\"avatar avatar-sm bg-gradient-dark me-3\"\n                        alt=\"logo spotify\"\n                      />\n                    </div>\n                    <div class=\"d-flex flex-column justify-content-center\">\n                      <h6 class=\"mb-1 text-sm font-weight-normal\">\n                        <span class=\"font-weight-bold\">New album</span> by\n                        Travis Scott\n                      </h6>\n                      <p class=\"mb-0 text-xs text-secondary\">\n                        <i class=\"fa fa-clock me-1\"></i>\n                        1 day\n                      </p>\n                    </div>\n                  </div>\n                </a>\n              </li>\n              <li>\n                <a class=\"dropdown-item border-radius-md\" href=\"javascript:;\">\n                  <div class=\"py-1 d-flex\">\n                    <div\n                      class=\"my-auto avatar avatar-sm bg-gradient-secondary me-3\"\n                    >\n                      <svg\n                        width=\"12px\"\n                        height=\"12px\"\n                        viewBox=\"0 0 43 36\"\n                        version=\"1.1\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                      >\n                        <title>credit-card</title>\n                        <g\n                          stroke=\"none\"\n                          stroke-width=\"1\"\n                          fill=\"none\"\n                          fill-rule=\"evenodd\"\n                        >\n                          <g\n                            transform=\"translate(-2169.000000, -745.000000)\"\n                            fill=\"#FFFFFF\"\n                            fill-rule=\"nonzero\"\n                          >\n                            <g transform=\"translate(1716.000000, 291.000000)\">\n                              <g transform=\"translate(453.000000, 454.000000)\">\n                                <path\n                                  class=\"color-background\"\n                                  d=\"M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z\"\n                                  opacity=\"0.593633743\"\n                                />\n                                <path\n                                  class=\"color-background\"\n                                  d=\"M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z\"\n                                />\n                              </g>\n                            </g>\n                          </g>\n                        </g>\n                      </svg>\n                    </div>\n                    <div class=\"d-flex flex-column justify-content-center\">\n                      <h6 class=\"mb-1 text-sm font-weight-normal\">\n                        Payment successfully completed\n                      </h6>\n                      <p class=\"mb-0 text-xs text-secondary\">\n                        <i class=\"fa fa-clock me-1\"></i>\n                        2 days\n                      </p>\n                    </div>\n                  </div>\n                </a>\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n"],"mappings":";AACA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AACnC,SAASC,QAAQ,QAAQ,MAAM;AAC/B,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAY;AAChD,OAAOC,WAAW,MAAM,oBAAoB;AAC5C,SAASC,OAAO,QAAQ,gBAAgB;;;;;;;IAExC,MAAMC,QAAQ,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC3B,MAAMO,YAAY,GAAGP,GAAG,CAAC,KAAK,CAAC;IAC/B,MAAMQ,KAAK,GAAGP,QAAQ,CAAC,CAAC;IACxB,MAAMQ,MAAM,GAAGN,SAAS,CAAC,CAAC;IAE1B,MAAMO,KAAK,GAAGR,QAAQ,CAAC,CAAC;IAExB,MAAMS,gBAAgB,GAAGZ,QAAQ,CAAC,MAAM;MACtC,OAAOW,KAAK,CAACE,IAAI;IACnB,CAAC,CAAC;IACF,MAAMC,gBAAgB,GAAGd,QAAQ,CAAC,MAAM;MACtC,IAAIe,GAAG,GAAGJ,KAAK,CAACK,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAClC,OAAOF,GAAG,CAACG,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGJ,GAAG,CAACK,KAAK,CAAC,CAAC,CAAC;IACnD,CAAC,CAAC;IAEF,MAAMC,WAAW,GAAGrB,QAAQ,CAAC,MAAMS,KAAK,CAACa,OAAO,CAACD,WAAW,CAAC;IAC7D,MAAME,QAAQ,GAAGvB,QAAQ,CAAC,MAAM;MAC9B,IAAIqB,WAAW,CAACG,KAAK,EAAE;QACrB,OAAOH,WAAW,CAACG,KAAK,CAACX,IAAI,IACtB,GAAGQ,WAAW,CAACG,KAAK,CAACC,UAAU,IAAI,EAAE,IAAIJ,WAAW,CAACG,KAAK,CAACE,SAAS,IAAI,EAAE,EAAE,CAACC,IAAI,CAAC,CAAC,IACnFN,WAAW,CAACG,KAAK,CAACI,KAAK;MAChC;MACA,OAAO,MAAM;IACf,CAAC,CAAC;IAEF,MAAMC,eAAe,GAAGA,CAAA,KAAMpB,KAAK,CAACqB,MAAM,CAAC,iBAAiB,CAAC;IAC7D,MAAMC,kBAAkB,GAAGA,CAAA,KAAMtB,KAAK,CAACqB,MAAM,CAAC,oBAAoB,CAAC;IAEnE,MAAME,SAAS,GAAGA,CAAA,KAAM;MACtBC,UAAU,CAAC,MAAM;QACf1B,QAAQ,CAACiB,KAAK,GAAG,KAAK;MACxB,CAAC,EAAE,GAAG,CAAC;IACT,CAAC;IAED,MAAMU,aAAa,GAAGA,CAAA,KAAM;MAC1BD,UAAU,CAAC,MAAM;QACfzB,YAAY,CAACgB,KAAK,GAAG,KAAK;MAC5B,CAAC,EAAE,GAAG,CAAC;IACT,CAAC;IAED,MAAMW,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAM7B,OAAO,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;MACrC,CAAC,CAAC,OAAO8B,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACvC,CAAC,SAAS;QACR;QACA3B,KAAK,CAAC6B,QAAQ,CAAC,QAAQ,CAAC;QACxB5B,MAAM,CAAC6B,IAAI,CAAC,SAAS,CAAC;MACxB;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}